{"ast":null,"code":"import _regeneratorRuntime from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _assertThisInitialized from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport HttpClient from '../../../utils/axios/instance';\nimport { crmPlatform } from \"src/services/identity\";\nimport { objectToQueryString } from 'utils/helper/objectToQueryString';\nimport Cookies from \"js-cookie\";\n\nvar Leads = /*#__PURE__*/function (_HttpClient) {\n  _inherits(Leads, _HttpClient);\n\n  var _super = _createSuper(Leads);\n\n  function Leads() {\n    var _this;\n\n    _classCallCheck(this, Leads);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchLeads\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(pageIndex, pageSize, companyId, optionalParams) {\n        var params, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                params = _objectSpread({\n                  pageIndex: pageIndex,\n                  pageSize: pageSize,\n                  companyId: companyId\n                }, optionalParams);\n                _context.next = 3;\n                return _this.instance.get(\"\".concat(crmPlatform, \"/leads?\").concat(objectToQueryString(params)));\n\n              case 3:\n                response = _context.sent;\n                return _context.abrupt(\"return\", response.data);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x, _x2, _x3, _x4) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchLead\", /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _this.instance.get(\"\".concat(crmPlatform, \"/leads/\").concat(id, \" \"));\n\n              case 2:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", response.data);\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x5) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"createLead\", /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(body) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _this.instance.post(\"\".concat(crmPlatform, \"/leads\"), body);\n\n              case 2:\n                response = _context3.sent;\n                return _context3.abrupt(\"return\", response.data);\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x6) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"updateLead\", /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id, body) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _this.instance.patch(\"\".concat(crmPlatform, \"/leads/\").concat(id), body);\n\n              case 2:\n                response = _context4.sent;\n                return _context4.abrupt(\"return\", response.data);\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x7, _x8) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteLead\", /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return _this.instance[\"delete\"](\"\".concat(crmPlatform, \"/leads/\").concat(id));\n\n              case 2:\n                response = _context5.sent;\n                return _context5.abrupt(\"return\", response.data);\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      return function (_x9) {\n        return _ref5.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"convertToCustomer\", /*#__PURE__*/function () {\n      var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id) {\n        var companyID, response;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                companyID = Cookies.get(\"companyID\");\n                _context6.next = 3;\n                return _this.instance.post(\"\".concat(crmPlatform, \"/leads/\").concat(id, \"/convert-to-customer\"));\n\n              case 3:\n                response = _context6.sent;\n                return _context6.abrupt(\"return\", response.data);\n\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      return function (_x10) {\n        return _ref6.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"postLeadAttachmentByID\", /*#__PURE__*/function () {\n      var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(id, body) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return _this.instance.get(\"\".concat(crmPlatform, \"/leads/attachment/\").concat(id), body);\n\n              case 2:\n                response = _context7.sent;\n                return _context7.abrupt(\"return\", response.data);\n\n              case 4:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      return function (_x11, _x12) {\n        return _ref7.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"getListAttachmentByID\", /*#__PURE__*/function () {\n      var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(id, body) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return _this.instance.get(\"\".concat(crmPlatform, \"/leads/attachment/\").concat(id), body);\n\n              case 2:\n                response = _context8.sent;\n                return _context8.abrupt(\"return\", response.data);\n\n              case 4:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      return function (_x13, _x14) {\n        return _ref8.apply(this, arguments);\n      };\n    }());\n\n    return _this;\n  }\n\n  return Leads;\n}(HttpClient);\n\nvar LeadsInstance = new Leads();\nexport default LeadsInstance;","map":{"version":3,"sources":["/Users/admin/Documents/personal-site/src/services/identity/leads/index.ts"],"names":["HttpClient","crmPlatform","objectToQueryString","Cookies","Leads","pageIndex","pageSize","companyId","optionalParams","params","instance","get","response","data","id","body","post","patch","companyID","LeadsInstance"],"mappings":"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","sourcesContent":["import HttpClient from '../../../utils/axios/instance';\nimport {\n  TCreateLeadBody,\n  TCreateLeadResponse,\n  TFetchLeadsResponse,\n  TFetchLeadResponse,\n  TUpdateLeadBody,\n  TUpdateLeadResponse,\n  TConvertToCustomerResponse,\n  TPostLeadAttachmentByIDResponse,\n} from \"./types\";\nimport { crmPlatform } from \"src/services/identity\";\nimport { objectToQueryString } from 'utils/helper/objectToQueryString';\nimport Cookies from \"js-cookie\";\n\nclass Leads extends HttpClient {\n  fetchLeads = async (\n    pageIndex: number,\n    pageSize: number,\n    companyId: string,\n    optionalParams?: any\n  ): Promise<TFetchLeadsResponse> => {\n    const params = { pageIndex, pageSize, companyId, ...optionalParams };\n    const response = await this.instance.get(`${crmPlatform}/leads?${objectToQueryString(params)}`);\n    return response.data;\n  };\n\n  fetchLead = async (id: string): Promise<TFetchLeadResponse> => {\n    const response = await this.instance.get(`${crmPlatform}/leads/${id} `);\n    return response.data;\n  };\n\n  createLead = async (body: TCreateLeadBody): Promise<TCreateLeadResponse> => {\n    const response = await this.instance.post(`${crmPlatform}/leads`, body);\n    return response.data;\n  };\n\n  updateLead = async (\n    id: string,\n    body: TUpdateLeadBody\n  ): Promise<TUpdateLeadResponse> => {\n    const response = await this.instance.patch(`${crmPlatform}/leads/${id}`, body);\n    return response.data;\n  };\n\n  deleteLead = async (id: string): Promise<TUpdateLeadResponse> => {\n    const response = await this.instance.delete(`${crmPlatform}/leads/${id}`);\n    return response.data;\n  };\n\n  convertToCustomer = async (\n    id: string\n  ): Promise<TConvertToCustomerResponse> => {\n    const companyID = Cookies.get(\"companyID\");\n    const response = await this.instance.post(\n      `${crmPlatform}/leads/${id}/convert-to-customer`\n    );\n    return response.data;\n  };\n\n  postLeadAttachmentByID = async (\n    id: string,\n    body: any\n  ): Promise<TPostLeadAttachmentByIDResponse> => {\n    const response = await this.instance.get(`${crmPlatform}/leads/attachment/${id}`, body);\n    return response.data;\n  };\n\n  getListAttachmentByID = async (\n    id: string,\n    body: any\n  ): Promise<TPostLeadAttachmentByIDResponse> => {\n    const response = await this.instance.get(`${crmPlatform}/leads/attachment/${id}`, body);\n    return response.data;\n  };\n}\n\nconst LeadsInstance = new Leads();\nexport default LeadsInstance;\n"]},"metadata":{},"sourceType":"module"}