{"ast":null,"code":"import _regeneratorRuntime from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _assertThisInitialized from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport HttpClient from '../../../utils/axios/instance';\nimport { catchAxiosError } from '../../../utils/axios/error';\nimport { crmPlatform } from \"src/services/identity\";\nimport { USERS_API_URL, PLATFORM_ACCESSES, INVITE_USER } from '../index';\n// import { TUsersResponse, ItemsUser } from './types';\nexport var usersAPI = /*#__PURE__*/function (_HttpClient) {\n  _inherits(usersAPI, _HttpClient);\n\n  var _super = _createSuper(usersAPI);\n\n  function usersAPI() {\n    var _this;\n\n    _classCallCheck(this, usersAPI);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"getAllUsers\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(pageNumber, filters) {\n        var filtering, paging, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                filtering = filters && Object.keys(filters).length ? \"filter=\".concat(JSON.stringify(filters), \"&\") : '';\n                paging = pageNumber ? \"pageIndex=\".concat(pageNumber) : 'pageIndex=1';\n                _context.next = 4;\n                return _this.instance.get(\"\".concat(crmPlatform, \"/\").concat(USERS_API_URL, \"?\").concat(filtering).concat(paging, \"&pageSize=20\"))[\"catch\"](catchAxiosError);\n\n              case 4:\n                response = _context.sent;\n                return _context.abrupt(\"return\", response);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"getUserDetailInCompanyByID\", /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(userId, companyId) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _this.instance.get(\"\".concat(crmPlatform, \"/\").concat(USERS_API_URL, \"/\").concat(userId, \"/company/\").concat(companyId))[\"catch\"](catchAxiosError);\n\n              case 2:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", response.data);\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x3, _x4) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"getDetailUser\", /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(IDUser) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _this.instance.get(\"\".concat(crmPlatform, \"/\").concat(USERS_API_URL, \"/\").concat(IDUser))[\"catch\"](catchAxiosError);\n\n              case 2:\n                response = _context3.sent;\n                return _context3.abrupt(\"return\", response);\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x5) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"updateUserDetail\", /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(userId, companyId, requestBody) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _this.instance.patch(\"\".concat(crmPlatform, \"/\").concat(USERS_API_URL, \"/\").concat(userId, \"/company/\").concat(companyId), requestBody)[\"catch\"](catchAxiosError);\n\n              case 2:\n                response = _context4.sent;\n                return _context4.abrupt(\"return\", response);\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x6, _x7, _x8) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlatformAccessesbyID\", /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(IDUser) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return _this.instance.patch(\"\".concat(crmPlatform, \"/\").concat(PLATFORM_ACCESSES, \"/\").concat(IDUser))[\"catch\"](catchAxiosError);\n\n              case 2:\n                response = _context5.sent;\n                return _context5.abrupt(\"return\", response);\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      return function (_x9) {\n        return _ref5.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"removeUser\", /*#__PURE__*/function () {\n      var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(IDUser, requestBody) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return _this.instance[\"delete\"](\"\".concat(crmPlatform, \"/user-role-company/\").concat(IDUser), requestBody)[\"catch\"](catchAxiosError);\n\n              case 2:\n                response = _context6.sent;\n                return _context6.abrupt(\"return\", response);\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      return function (_x10, _x11) {\n        return _ref6.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"inviteNewUser\", /*#__PURE__*/function () {\n      var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(requestBody) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return _this.instance.post(\"\".concat(crmPlatform, \"/\").concat(INVITE_USER), requestBody)[\"catch\"](catchAxiosError);\n\n              case 2:\n                response = _context7.sent;\n                return _context7.abrupt(\"return\", response);\n\n              case 4:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      return function (_x12) {\n        return _ref7.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"firstSetupUserDetail\", /*#__PURE__*/function () {\n      var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(IDUser, requestBody) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return _this.instance.post(\"\".concat(crmPlatform, \"/\").concat(USERS_API_URL, \"/\").concat(IDUser, \"/authentication\"), requestBody)[\"catch\"](catchAxiosError);\n\n              case 2:\n                response = _context8.sent;\n                return _context8.abrupt(\"return\", response);\n\n              case 4:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      return function (_x13, _x14) {\n        return _ref8.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"lastAccessCompany\", /*#__PURE__*/function () {\n      var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(IDUser, IDCompany) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return _this.instance.patch(\"\".concat(crmPlatform, \"/\").concat(USERS_API_URL, \"/\").concat(IDUser, \"/company/\").concat(IDCompany, \"/last-access\"))[\"catch\"](catchAxiosError);\n\n              case 2:\n                response = _context9.sent;\n                return _context9.abrupt(\"return\", response);\n\n              case 4:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }));\n\n      return function (_x15, _x16) {\n        return _ref9.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"getListCompany\", /*#__PURE__*/function () {\n      var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(IDUser, pageIndex, pageSize) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.next = 2;\n                return _this.instance.get(\"\".concat(crmPlatform, \"/\").concat(USERS_API_URL, \"/\").concat(IDUser, \"/company-list?pageIndex=\").concat(pageIndex ? pageIndex : 1).concat(pageSize ? \"&pageSize=\".concat(pageSize) : \"&pageSize=20\", \"&sort={\\\"lastAccess\\\": \\\"DESC\\\"}\"))[\"catch\"](catchAxiosError);\n\n              case 2:\n                response = _context10.sent;\n                return _context10.abrupt(\"return\", response);\n\n              case 4:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      return function (_x17, _x18, _x19) {\n        return _ref10.apply(this, arguments);\n      };\n    }());\n\n    return _this;\n  }\n\n  return usersAPI;\n}(HttpClient);","map":null,"metadata":{},"sourceType":"module"}