{"ast":null,"code":"import Cookies from \"js-cookie\";\nexport function catchAxiosError(err) {\n  // Something happened in setting up the request that triggered an Error\n  console.log('Error', err.message);\n  var message = 'Something happened in setting up the request that triggered an Error';\n\n  if (err.response) {\n    // The request was made and the server responded with a status code\n    // that falls out of the range of 2xx\n    // console.log(err.response.data.message);\n    // console.log(err.response.status);\n    if (err.response.status === 401) {\n      localStorage.removeItem(\"accounts\");\n      Cookies.remove(\"crm_token\");\n      Cookies.remove(\"isAuthenticated\");\n      window.location.reload();\n    } // console.log(err.response.headers);\n\n\n    message = err.response.data.message;\n  } else if (err.request) {\n    // The request was made but no response was received\n    // `err.request` is an instance of XMLHttpRequest in the browser and an instance of\n    // http.ClientRequest in node.js\n    console.log(err.request);\n    message = 'The request was made, but no response was received';\n  }\n\n  return {\n    error: message\n  };\n}","map":{"version":3,"sources":["/Users/admin/Documents/personal-site/src/utils/axios/error.ts"],"names":["Cookies","catchAxiosError","err","console","log","message","response","status","localStorage","removeItem","remove","window","location","reload","data","request","error"],"mappings":"AACA,OAAOA,OAAP,MAAoB,WAApB;AAKA,OAAO,SAASC,eAAT,CAAyBC,GAAzB,EAAyD;AAC9D;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,GAAG,CAACG,OAAzB;AACA,MAAIA,OAAO,GACT,sEADF;;AAGA,MAAIH,GAAG,CAACI,QAAR,EAAkB;AAChB;AACA;AACA;AACA;AACA,QAAIJ,GAAG,CAACI,QAAJ,CAAaC,MAAb,KAAwB,GAA5B,EAAiC;AAC/BC,MAAAA,YAAY,CAACC,UAAb,CAAwB,UAAxB;AACAT,MAAAA,OAAO,CAACU,MAAR,CAAe,WAAf;AACAV,MAAAA,OAAO,CAACU,MAAR,CAAe,iBAAf;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,KAVe,CAWhB;;;AACAR,IAAAA,OAAO,GAAGH,GAAG,CAACI,QAAJ,CAAaQ,IAAb,CAAkBT,OAA5B;AACD,GAbD,MAaO,IAAIH,GAAG,CAACa,OAAR,EAAiB;AACtB;AACA;AACA;AACAZ,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACa,OAAhB;AACAV,IAAAA,OAAO,GAAG,oDAAV;AACD;;AACD,SAAO;AAAEW,IAAAA,KAAK,EAAEX;AAAT,GAAP;AACD","sourcesContent":["import { AxiosError } from 'axios';\nimport Cookies from \"js-cookie\";\nexport type ErrorResponse = {\n  error: string;\n};\n\nexport function catchAxiosError(err: AxiosError): ErrorResponse {\n  // Something happened in setting up the request that triggered an Error\n  console.log('Error', err.message);\n  let message =\n    'Something happened in setting up the request that triggered an Error';\n\n  if (err.response) {\n    // The request was made and the server responded with a status code\n    // that falls out of the range of 2xx\n    // console.log(err.response.data.message);\n    // console.log(err.response.status);\n    if (err.response.status === 401) {\n      localStorage.removeItem(\"accounts\");\n      Cookies.remove(\"crm_token\");\n      Cookies.remove(\"isAuthenticated\");\n      window.location.reload();\n    }\n    // console.log(err.response.headers);\n    message = err.response.data.message;\n  } else if (err.request) {\n    // The request was made but no response was received\n    // `err.request` is an instance of XMLHttpRequest in the browser and an instance of\n    // http.ClientRequest in node.js\n    console.log(err.request);\n    message = 'The request was made, but no response was received';\n  }\n  return { error: message };\n}\n"]},"metadata":{},"sourceType":"module"}