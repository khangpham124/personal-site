{"ast":null,"code":"import _regeneratorRuntime from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _assertThisInitialized from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/Users/admin/Documents/personal-site/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport HttpClient from '../../../utils/axios/instance';\nimport { crmPlatform } from \"src/services/identity\";\nimport { objectToQueryString } from 'utils/helper/objectToQueryString';\n\nvar Customers = /*#__PURE__*/function (_HttpClient) {\n  _inherits(Customers, _HttpClient);\n\n  var _super = _createSuper(Customers);\n\n  function Customers() {\n    var _this;\n\n    _classCallCheck(this, Customers);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchCustomers\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(pageIndex, pageSize, companyId, optionalParams) {\n        var params, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                params = _objectSpread({\n                  pageIndex: pageIndex,\n                  pageSize: pageSize,\n                  companyId: companyId\n                }, optionalParams);\n                _context.next = 3;\n                return _this.instance.get(\"\".concat(crmPlatform, \"/customers?\").concat(objectToQueryString(params)));\n\n              case 3:\n                response = _context.sent;\n                return _context.abrupt(\"return\", response.data);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x, _x2, _x3, _x4) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchCustomer\", /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _this.instance.get(\"\".concat(crmPlatform, \"/customers/\").concat(id));\n\n              case 2:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", response.data);\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x5) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchInterestingProductsByCustomerId\", /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(customerId) {\n        var pageIndex,\n            pageSize,\n            response,\n            _args3 = arguments;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                pageIndex = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : 1;\n                pageSize = _args3.length > 2 && _args3[2] !== undefined ? _args3[2] : 10;\n                _context3.next = 4;\n                return _this.instance.get(\"\".concat(crmPlatform, \"/customers/\").concat(customerId, \"/interesting-products?pageIndex=\").concat(pageIndex, \"&pageSize=\").concat(pageSize));\n\n              case 4:\n                response = _context3.sent;\n                return _context3.abrupt(\"return\", response.data);\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x6) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"addInterestingProductsByCustomerId\", /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(customerId, productId) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _this.instance.post(\"\".concat(crmPlatform, \"/customers/\").concat(customerId, \"/interesting-products/\").concat(productId));\n\n              case 2:\n                response = _context4.sent;\n                return _context4.abrupt(\"return\", response.data);\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x7, _x8) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteInterestingProductsByCustomerId\", /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(customerId, productId) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return _this.instance[\"delete\"](\"\".concat(crmPlatform, \"/customers/\").concat(customerId, \"/interesting-products/\").concat(productId));\n\n              case 2:\n                response = _context5.sent;\n                return _context5.abrupt(\"return\", response.data);\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      return function (_x9, _x10) {\n        return _ref5.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"createCustomer\", /*#__PURE__*/function () {\n      var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(body) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return _this.instance.post(\"\".concat(crmPlatform, \"/customers\"), body);\n\n              case 2:\n                response = _context6.sent;\n                return _context6.abrupt(\"return\", response.data);\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      return function (_x11) {\n        return _ref6.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"updateCustomer\", /*#__PURE__*/function () {\n      var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(id, body) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return _this.instance.patch(\"\".concat(crmPlatform, \"/customers/\").concat(id), body);\n\n              case 2:\n                response = _context7.sent;\n                return _context7.abrupt(\"return\", response.data);\n\n              case 4:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      return function (_x12, _x13) {\n        return _ref7.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteCustomer\", /*#__PURE__*/function () {\n      var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(IDCustomer) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return _this.instance[\"delete\"](\"\".concat(crmPlatform, \"/customers/\").concat(IDCustomer));\n\n              case 2:\n                response = _context8.sent;\n                return _context8.abrupt(\"return\", response.data);\n\n              case 4:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      return function (_x14) {\n        return _ref8.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"exportCustomer\", /*#__PURE__*/function () {\n      var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(IDCustomer) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return _this.instance.get(\"\".concat(crmPlatform, \"/customers/\").concat(IDCustomer, \"/export\"));\n\n              case 2:\n                response = _context9.sent;\n                return _context9.abrupt(\"return\", response.data);\n\n              case 4:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }));\n\n      return function (_x15) {\n        return _ref9.apply(this, arguments);\n      };\n    }());\n\n    return _this;\n  }\n\n  return Customers;\n}(HttpClient);\n\nvar CustomersInstance = new Customers();\nexport default CustomersInstance;","map":{"version":3,"sources":["/Users/admin/Documents/personal-site/src/services/identity/customers/index.ts"],"names":["HttpClient","crmPlatform","objectToQueryString","Customers","pageIndex","pageSize","companyId","optionalParams","params","instance","get","response","data","id","customerId","productId","post","body","patch","IDCustomer","CustomersInstance"],"mappings":"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","sourcesContent":["\nimport HttpClient from '../../../utils/axios/instance';\nimport {\n  TCreateCustomerBody,\n  TCreateCustomerResponse,\n  TFetchCustomersResponse,\n  TFetchCustomerResponse,\n  TUpdateCustomerBody,\n  TUpdateCustomerResponse,\n} from \"./types\";\nimport { crmPlatform } from \"src/services/identity\";\nimport { objectToQueryString } from 'utils/helper/objectToQueryString';\n\nclass Customers extends HttpClient {\n  fetchCustomers = async (\n    pageIndex: number,\n    pageSize: number,\n    companyId: string,\n    optionalParams?: any\n  ): Promise<TFetchCustomersResponse> => {\n    const params = { pageIndex, pageSize, companyId, ...optionalParams };\n    const response = await this.instance.get(`${crmPlatform}/customers?${objectToQueryString(params)}`);\n    return response.data;\n  };\n\n  fetchCustomer = async (id: string): Promise<TFetchCustomerResponse> => {\n    const response = await this.instance.get(`${crmPlatform}/customers/${id}`);\n    return response.data;\n  };\n\n  fetchInterestingProductsByCustomerId = async (\n    customerId: string,\n    pageIndex: number = 1,\n    pageSize: number = 10\n  ): Promise<any> => {\n    const response = await this.instance.get(\n      `${crmPlatform}/customers/${customerId}/interesting-products?pageIndex=${pageIndex}&pageSize=${pageSize}`\n    );\n    return response.data;\n  };\n\n  addInterestingProductsByCustomerId = async (\n    customerId: string,\n    productId: string\n  ): Promise<any> => {\n    const response = await this.instance.post(\n      `${crmPlatform}/customers/${customerId}/interesting-products/${productId}`\n    );\n    return response.data;\n  };\n\n  deleteInterestingProductsByCustomerId = async (\n    customerId: string,\n    productId: string\n  ): Promise<any> => {\n    const response = await this.instance.delete(\n      `${crmPlatform}/customers/${customerId}/interesting-products/${productId}`\n    );\n    return response.data;\n  };\n\n  createCustomer = async (\n    body: TCreateCustomerBody\n  ): Promise<TCreateCustomerResponse> => {\n    const response = await this.instance.post(`${crmPlatform}/customers`, body);\n    return response.data;\n  };\n\n  updateCustomer = async (\n    id: string,\n    body: TUpdateCustomerBody\n  ): Promise<TUpdateCustomerResponse> => {\n    const response = await this.instance.patch(`${crmPlatform}/customers/${id}`, body);\n    return response.data;\n  };\n\n  deleteCustomer = async (\n    IDCustomer: string\n  ): Promise<TCreateCustomerResponse> => {\n    const response = await this.instance.delete(`${crmPlatform}/customers/${IDCustomer}`);\n    return response.data;\n  };\n\n  exportCustomer = async (\n    IDCustomer: any\n  ): Promise<TFetchCustomersResponse> => {\n    const response = await this.instance.get(\n      `${crmPlatform}/customers/${IDCustomer}/export`\n    );\n    return response.data;\n  };\n}\n\nconst CustomersInstance = new Customers();\nexport default CustomersInstance;\n"]},"metadata":{},"sourceType":"module"}